<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mohammad Zafari | Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .section-title {
            border-bottom: 3px solid #4f46e5;
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        /* Modal styles */
        .modal {
            transition: opacity 0.25s ease;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
        .loader {
            border-top-color: #3498db;
            -webkit-animation: spin 1s linear infinite;
            animation: spin 1s linear infinite;
        }
        @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .profile-image-glow {
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.5), 0 0 30px rgba(79, 70, 229, 0.3);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-300">

    <header class="bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-white">Mohammad Zafari</a>
            <div class="hidden md:flex space-x-6 text-lg">
                <a href="#about" class="hover:text-indigo-400 transition-colors">About</a>
                <a href="#coursework" class="hover:text-indigo-400 transition-colors">Coursework</a>
                <a href="#experience" class="hover:text-indigo-400 transition-colors">Experience</a>
                <a href="#projects" class="hover:text-indigo-400 transition-colors">Projects</a>
                <a href="#contact" class="hover:text-indigo-400 transition-colors">Contact</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-2xl">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2">
            <a href="#about" class="block hover:text-indigo-400 transition-colors">About</a>
            <a href="#coursework" class="block hover:text-indigo-400 transition-colors">Coursework</a>
            <a href="#experience" class="block hover:text-indigo-400 transition-colors">Experience</a>
            <a href="#projects" class="block hover:text-indigo-400 transition-colors">Projects</a>
            <a href="#contact" class="block hover:text-indigo-400 transition-colors">Contact</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="hero" class="py-20">
            <div class="flex flex-col md:flex-row items-center justify-center gap-12">
                <div class="flex-shrink-0">
                    <img src="./mypicture.jpg" alt="Mohammad Zafari" class="w-48 h-48 rounded-full object-cover border-4 border-indigo-500 profile-image-glow">
                </div>
                <div class="text-center md:text-left">
                    <h1 class="text-5xl md:text-7xl font-extrabold text-white leading-tight">
                        Mohammad Zafari
                    </h1>
                    <p class="text-xl md:text-2xl text-indigo-400 mt-4 font-medium">
                        Computer Science Graduate | Lover of Machine Learning & Computer Vision
                    </p>
                    <div class="mt-8 flex justify-center md:justify-start items-center space-x-6">
                        <a href="https://github.com/m-zafari" target="_blank" class="text-4xl hover:text-indigo-400 transition-colors" aria-label="GitHub"><i class="fab fa-github"></i></a>
                        <a href="mailto:mhdzafari80@gmail.com" class="text-4xl hover:text-indigo-400 transition-colors" aria-label="Email"><i class="fas fa-envelope"></i></a>
                        <a href="./MohammadZafari_CV.pdf" download="MohammadZafari_CV.pdf" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-transform transform hover:scale-105 inline-block">
                           <i class="fas fa-download mr-2"></i> My Resume
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="py-16">
            <h2 class="section-title text-3xl font-bold text-white mb-8">About Me</h2>
            <div class="grid md:grid-cols-5 gap-10 items-center">
                <div class="md:col-span-3 text-lg leading-relaxed">
                    <p>
                        Hello! I'm a recent Computer Science graduate from Kharazmi University. I love solving problems and did very well in my studies, finishing with a GPA of 3.9/4.0 and ranked 3rd in my class.
                    </p>
                    <p class="mt-4">
                        I'm really interested in machine learning, especially in making AI models better at understanding images. I enjoy using Python, and I have practical experience with tools like PyTorch and Scikit-learn from my university projects. I'm always excited to learn new things and find smart solutions to tricky challenges.
                    </p>
                </div>
                <div class="md:col-span-2 space-y-4">
                    <h3 class="text-xl font-semibold text-white">Core Skills</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="bg-indigo-600 text-white px-3 py-1 rounded-full">Python</span>
                        <span class="bg-indigo-600 text-white px-3 py-1 rounded-full">PyTorch</span>
                        <span class="bg-indigo-600 text-white px-3 py-1 rounded-full">Scikit-learn</span>
                        <span class="bg-indigo-600 text-white px-3 py-1 rounded-full">TensorFlow</span>
                        <span class="bg-indigo-600 text-white px-3 py-1 rounded-full">Java</span>
                        <span class="bg-indigo-600 text-white px-3 py-1 rounded-full">SQL</span>
                        <span class="bg-indigo-600 text-white px-3 py-1 rounded-full">OpenCV</span>
                        <span class="bg-gray-700 text-gray-300 px-3 py-1 rounded-full">C</span>
                        <span class="bg-gray-700 text-gray-300 px-3 py-1 rounded-full">MATLAB</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="coursework" class="py-16">
            <h2 class="section-title text-3xl font-bold text-white mb-12">Relevant Coursework</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-semibold text-indigo-400 mb-4">Artificial Intelligence & Data Science</h3>
                    <ul class="space-y-2 list-disc list-inside">
                        <li>AI Fundamentals</li>
                        <li>Nonlinear Programming</li>
                        <li>Numerical Computing</li>
                        <li>Simulation & Modeling</li>
                        <li>Advanced Topics in CS (ATCS)</li>
                        <li>Senior Project in CS</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-indigo-400 mb-4">Theoretical CS & Algorithms</h3>
                    <ul class="space-y-2 list-disc list-inside">
                        <li>Algorithm Design & Analysis</li>
                        <li>Data Structures & Algorithms</li>
                        <li>Theory of Computation</li>
                        <li>Combinatorics</li>
                        <li>Graph Theory</li>
                        <li>Compiler Design</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-indigo-400 mb-4">Core Mathematics</h3>
                    <ul class="space-y-2 list-disc list-inside">
                        <li>Linear Algebra / Matrix Theory</li>
                        <li>Probability & Statistics I</li>
                        <li>Calculus I, II, III</li>
                        <li>Differential Equations</li>
                        <li>Numerical Analysis</li>
                        <li>Abstract Algebra</li>
                        <li>Intro. to Mathematical Analysis</li>
                        <li>Mathematical Logic & Set Theory</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-indigo-400 mb-4">Systems & Software</h3>
                    <ul class="space-y-2 list-disc list-inside">
                        <li>Advanced Programming</li>
                        <li>Programming Fundamentals</li>
                        <li>Database Systems</li>
                        <li>Computer Systems Fundamentals</li>
                        <li>Computer Organization & Architecture</li>
                        <li>Networking & Data Communication</li>
                        <li>Digital Logic Design</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="experience" class="py-16">
            <h2 class="section-title text-3xl font-bold text-white mb-12">Experience</h2>
            <div class="relative border-l-2 border-indigo-500 pl-10">
                <div class="mb-12">
                    <div class="absolute -left-3.5 mt-1.5 h-6 w-6 rounded-full bg-indigo-500"></div>
                    <p class="text-sm text-gray-400">Feb 2023 - July 2023</p>
                    <h3 class="text-2xl font-semibold text-white mt-1">Research Assistant</h3>
                    <p class="text-lg text-indigo-400">Kharazmi University</p>
                    <p class="mt-2 text-gray-300">Developed knowledge distillation framework for image classification using PyTorch, inspired by recent advances in attention-based feature matching, improving student performance on the Stanford40 and CIFAR100 datasets, which uses an attention mechanism to identify effective feature pairs for distillation.</p>
                </div>
                <div class="mb-12">
                    <div class="absolute -left-3.5 mt-1.5 h-6 w-6 rounded-full bg-indigo-500"></div>
                    <p class="text-sm text-gray-400">Feb 2022 - May 2022</p>
                    <h3 class="text-2xl font-semibold text-white mt-1">Teaching Assistant (Theory of Computation)</h3>
                    <p class="text-lg text-indigo-400">Kharazmi University</p>
                    <p class="mt-2 text-gray-300">Conducted recitation sessions and actively monitored student progress to identify challenging topics in Theory of Computation (Automata Theory).</p>
                </div>
                <div>
                    <div class="absolute -left-3.5 mt-1.5 h-6 w-6 rounded-full bg-indigo-500"></div>
                    <p class="text-sm text-gray-400">Sep 2021 - Dec 2021</p>
                    <h3 class="text-2xl font-semibold text-white mt-1">Teaching Assistant (Introduction to Probability)</h3>
                    <p class="text-lg text-indigo-400">Kharazmi University</p>
                    <p class="mt-2 text-gray-300">Graded assignments and exams, provided academic support by answering student questions and explaining course material.</p>
                </div>
            </div>
        </section>

        <section id="projects" class="py-16">
            <h2 class="section-title text-3xl font-bold text-white mb-12">Selected Projects</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="project-card bg-gray-800 rounded-lg p-6 flex flex-col justify-between transform hover:-translate-y-2 transition-transform duration-300">
                    <div>
                        <h3 class="project-title text-xl font-bold text-white">Knowledge Distillation For Image Classification</h3>
                        <p class="project-desc mt-2 text-gray-400">As part of my Senior Project, I developed and adapted various knowledge distillation networks in PyTorch, applying attention-based techniques to improve compact models on the Stanford40 and CIFAR100 datasets.</p>
                    </div>
                    <div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">PyTorch</span>
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">Python</span>
                        </div>
                        <div class="mt-4 flex flex-col space-y-2">
                            <a href="https://github.com/m-zafari/Knowledge-Distillation-For-Image-Classification" target="_blank" class="text-indigo-400 hover:text-indigo-300">View on GitHub <i class="fas fa-arrow-right"></i></a>
                            <button class="explain-button bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors">✨ Explain with AI</button>
                        </div>
                    </div>
                </div>
                <div class="project-card bg-gray-800 rounded-lg p-6 flex flex-col justify-between transform hover:-translate-y-2 transition-transform duration-300">
                    <div>
                        <h3 class="project-title text-xl font-bold text-white">Clustering Algorithms Comparison</h3>
                        <p class="project-desc mt-2 text-gray-400">I compared K-Means, Agglomerative Clustering, and DBSCAN on synthetic datasets and visualized the results. I assessed performance using metrics like the Rand Index, Jaccard Index, and Silhouette Score.</p>
                    </div>
                    <div>
                         <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">Scikit-learn</span>
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">Python</span>
                        </div>
                        <div class="mt-4 flex flex-col space-y-2">
                            <a href="https://github.com/m-zafari/Clustering-Algorithms-Comparison" target="_blank" class="text-indigo-400 hover:text-indigo-300">View on GitHub <i class="fas fa-arrow-right"></i></a>
                            <button class="explain-button bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors">✨ Explain with AI</button>
                        </div>
                    </div>
                </div>
                <div class="project-card bg-gray-800 rounded-lg p-6 flex flex-col justify-between transform hover:-translate-y-2 transition-transform duration-300">
                    <div>
                        <h3 class="project-title text-xl font-bold text-white">Digit Recognition With MNIST</h3>
                        <p class="project-desc mt-2 text-gray-400">I implemented multilayer perceptron (MLP) models with various activation functions and optimizers in both Scikit-Learn and TensorFlow to compare their behavior and performance on the MNIST dataset.</p>
                    </div>
                    <div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">TensorFlow</span>
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">Scikit-learn</span>
                        </div>
                        <div class="mt-4 flex flex-col space-y-2">
                            <a href="https://github.com/m-zafari/Digit-Recognition-With-MNIST-Dataset" target="_blank" class="text-indigo-400 hover:text-indigo-300">View on GitHub <i class="fas fa-arrow-right"></i></a>
                            <button class="explain-button bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors">✨ Explain with AI</button>
                        </div>
                    </div>
                </div>
                <div class="project-card bg-gray-800 rounded-lg p-6 flex flex-col justify-between transform hover:-translate-y-2 transition-transform duration-300">
                    <div>
                        <h3 class="project-title text-xl font-bold text-white">Compare Optimization Algorithms</h3>
                        <p class="project-desc mt-2 text-gray-400">I implemented and compared Gradient Descent and Newton's Method on multivariable nonlinear functions, analyzing convergence and visualizing optimization paths.</p>
                    </div>
                    <div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">Python</span>
                        </div>
                        <div class="mt-4 flex flex-col space-y-2">
                            <a href="https://github.com/m-zafari/Compare-Optimization-Algorithms" target="_blank" class="text-indigo-400 hover:text-indigo-300">View on GitHub <i class="fas fa-arrow-right"></i></a>
                            <button class="explain-button bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors">✨ Explain with AI</button>
                        </div>
                    </div>
                </div>
                <div class="project-card bg-gray-800 rounded-lg p-6 flex flex-col justify-between transform hover:-translate-y-2 transition-transform duration-300">
                    <div>
                        <h3 class="project-title text-xl font-bold text-white">15-Puzzle Solver</h3>
                        <p class="project-desc mt-2 text-gray-400">I implemented Hill-Climbing and A* search algorithms in Python to solve and visualize the 15-puzzle problem, exploring different solution strategies.</p>
                    </div>
                    <div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">Python</span>
                        </div>
                        <div class="mt-4 flex flex-col space-y-2">
                            <a href="https://github.com/m-zafari/15-Puzzle-Solver" target="_blank" class="text-indigo-400 hover:text-indigo-300">View on GitHub <i class="fas fa-arrow-right"></i></a>
                            <button class="explain-button bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors">✨ Explain with AI</button>
                        </div>
                    </div>
                </div>
                <div class="project-card bg-gray-800 rounded-lg p-6 flex flex-col justify-between transform hover:-translate-y-2 transition-transform duration-300">
                    <div>
                        <h3 class="project-title text-xl font-bold text-white">Implementing a Hotel Chain Database</h3>
                        <p class="project-desc mt-2 text-gray-400">I designed and implemented a relational database system for hotel chain management using SQL, featuring 15 interrelated tables, data normalization, and integrity constraints.</p>
                    </div>
                    <div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-indigo-800 text-indigo-300 text-sm px-2 py-1 rounded">SQL</span>
                        </div>
                        <div class="mt-4 flex flex-col space-y-2">
                            <a href="https://github.com/m-zafari/Implementing-a-Hotel-Chain-Database" target="_blank" class="text-indigo-400 hover:text-indigo-300">View on GitHub <i class="fas fa-arrow-right"></i></a>
                            <button class="explain-button bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors">✨ Explain with AI</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="ai-interviewer" class="py-16">
            <h2 class="section-title text-3xl font-bold text-white mb-8">Ask My AI Assistant</h2>
            <div class="bg-gray-800 rounded-lg p-8">
                <p class="text-lg text-gray-400 mb-4">You can ask questions about my experience, skills, or projects. My AI assistant, powered by Google Gemini, will answer based on my CV.</p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <input type="text" id="ai-question-input" class="flex-grow bg-gray-700 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="e.g., What was your senior project?">
                    <button id="ai-ask-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">Ask Question</button>
                </div>
                <div id="ai-answer-container" class="mt-6 p-6 bg-gray-900 rounded-lg min-h-[100px] hidden">
                    <div id="ai-answer-loader" class="flex justify-center items-center">
                        <div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-10 w-10"></div>
                    </div>
                    <p id="ai-answer-text" class="text-gray-300 leading-relaxed"></p>
                </div>
            </div>
        </section>

    </main>

    <footer id="contact" class="bg-gray-800 border-t border-gray-700">
        <div class="container mx-auto px-6 py-12 text-center">
            <h2 class="text-3xl font-bold text-white mb-4">Get In Touch</h2>
            <p class="text-lg mb-8">I'm looking for new opportunities. My inbox is always open. Whether you have a question or just want to say hi, I'll do my best to get back to you!</p>
            <a href="mailto:mhdzafari80@gmail.com" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors">
                Contact Me
            </a>
            <div class="mt-12 text-sm text-gray-500">
                <p>&copy; 2024 Mohammad Zafari. All Rights Reserved.</p>
                <p class="mt-1">Designed with Tailwind CSS. AI features by Google Gemini.</p>
            </div>
        </div>
    </footer>

    <div id="ai-modal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden p-4">
        <div class="modal-content bg-gray-800 rounded-lg shadow-2xl p-8 max-w-2xl w-full transform scale-95">
            <div class="flex justify-between items-start">
                <h2 id="modal-title" class="text-2xl font-bold mb-4 text-white">Project Explanation</h2>
                <button id="close-modal-button" class="text-2xl text-gray-500 hover:text-white">&times;</button>
            </div>
            <div id="modal-body" class="text-gray-300 space-y-4 max-h-[60vh] overflow-y-auto">
                <div id="modal-loader" class="flex justify-center items-center py-10">
                    <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-16 w-16"></div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // --- Mobile menu toggle ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Placeholder for the API Key - will be replaced by GitHub Actions
        const API_KEY = "AIzaSyCEESdzMqJCRK3pW95vBnEimCnSuToZlxk"; 
        const API_URL_FLASH = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`; // Changed model to 1.5-flash as 2.0-flash might be an older name.

        // --- AI Project Explainer Modal Logic ---
        const aiModal = document.getElementById('ai-modal');
        const closeModalButton = document.getElementById('close-modal-button');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalLoader = document.getElementById('modal-loader');
        const explainButtons = document.querySelectorAll('.explain-button');

        const openModal = () => {
            aiModal.classList.remove('hidden');
            setTimeout(() => aiModal.querySelector('.modal-content').classList.remove('scale-95'), 10);
        };

        const closeModal = () => {
            aiModal.querySelector('.modal-content').classList.add('scale-95');
            setTimeout(() => aiModal.classList.add('hidden'), 250);
        };

        closeModalButton.addEventListener('click', closeModal);
        aiModal.addEventListener('click', (event) => {
            if (event.target === aiModal) {
                closeModal();
            }
        });

        explainButtons.forEach(button => {
            button.addEventListener('click', async (event) => {
                const projectCard = event.target.closest('.project-card');
                const title = projectCard.querySelector('.project-title').textContent;
                const description = projectCard.querySelector('.project-desc').textContent;

                modalTitle.textContent = `Explaining: ${title}`;
                modalBody.innerHTML = ''; 
                modalBody.appendChild(modalLoader); 
                modalLoader.style.display = 'flex';
                openModal();

                const prompt = `You are a helpful portfolio assistant. Explain the following computer science project in a friendly, engaging, and easy-to-understand way for a non-technical audience like a recruiter. Focus on the 'what' and 'why'. Keep it concise (2-3 short paragraphs).

Project Title: "${title}"
Project Description: "${description}"`;

                try {
                    const payload = { contents: [{ parts: [{ text: prompt }] }] };
                    const response = await fetch(API_URL_FLASH, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`API Error: ${response.statusText}`);
                    
                    const result = await response.json();
                    const explanation = result.candidates[0].content.parts[0].text;
                    
                    modalLoader.style.display = 'none';
                    modalBody.innerHTML = explanation.replace(/\n/g, '<br><br>');

                } catch (error) {
                    console.error("Gemini API Error:", error);
                    modalLoader.style.display = 'none';
                    modalBody.textContent = "Sorry, I couldn't generate an explanation at this time.";
                }
            });
        });

        // --- AI Interviewer Logic ---
        const aiQuestionInput = document.getElementById('ai-question-input');
        const aiAskButton = document.getElementById('ai-ask-button');
        const aiAnswerContainer = document.getElementById('ai-answer-container');
        const aiAnswerLoader = document.getElementById('ai-answer-loader');
        const aiAnswerText = document.getElementById('ai-answer-text');

        // This is the summarized context from your CV for the AI
        const cvContext = `
            My name is Mohammad Zafari.
            My Education: I have a B.Sc. in Computer Science from Kharazmi University, graduating in June 2024 with a GPA of 3.9/4.0. I was ranked 3rd in my class of 40 students.
            My Experience:
            - Research Assistant at Kharazmi University (Feb 2023 - July 2023): I developed a knowledge distillation framework for image classification using PyTorch, inspired by recent advances in attention-based feature matching, improving student performance on the Stanford40 and CIFAR100 datasets, which uses an attention mechanism to identify effective feature pairs for distillation. This project was under the supervision of Prof. Mohammad Soltanian.
            - Teaching Assistant for Theory of Computation at Kharazmi University (Feb 2022 - May 2022): I conducted recitation sessions and actively monitored student progress to identify challenging topics in Theory of Computation (Automata Theory) under the supervision of Prof. Arash Ahadi.
            - Teaching Assistant for Introduction to Probability at Kharazmi University (Sep 2021 - Dec 2021): I graded assignments and provided academic support by answering student questions and explaining course material under the supervision of Prof. Meisam Moghimbeygi.
            My Skills:
            - Languages: C, Java, Python, SQL, MATLAB, Assembly.
            - Frameworks: PyTorch, TensorFlow, Scikit-learn, OpenCV.
            My Certificates:
            - Supervised Machine Learning: Regression and Classification from Coursera.
            - Task-Oriented Course In Fundamentals Of Python Programming & Algorithmic Thinking from Quera.
            My Standard Exams:
            - TOEFL IBT Overall: 91/120 (Reading: 21, Listening: 23, Speaking: 22, Writing: 25), attempted in 2025.
            My Selected Projects:
            - Knowledge Distillation For Image Classification (Senior Project): I developed and adapted various knowledge distillation networks in PyTorch to enhance the performance of compact models like ResNet-18 and WideResNet-16-2.
            - Clustering Algorithms Comparison: I compared K-Means, Agglomerative Clustering, and DBSCAN using Scikit-Learn and evaluated them with metrics like Rand Index and Silhouette Score.
            - Digit Recognition With MNIST Dataset: I implemented MLP models in both Scikit-Learn and TensorFlow to compare their performance.
            - Compare Optimization Algorithms: I implemented and compared Gradient Descent and Newton's Method in Python.
            - Implementing a Hotel Chain Database: I designed and implemented a relational database system for a hotel chain using SQL.
            - Candy Store Simulation: I used SimPy in Python to model a candy store and track performance metrics.
            - 15-Puzzle Solver: I implemented Hill-Climbing and A* algorithms to solve the 15-puzzle.
            - Hamilton Night's Tour Solver: I developed a Java-based solution for the Knight's Tour problem using Warnsdorff's Rule.
            - SPSS Project: I analyzed a dataset on aflatoxin in food using SPSS.
            My Relevant Coursework: Calculus I, Calculus II, Calculus III, Probability and Statistics I, Graph Theory, Abstract Algebra, Intro. to Mathematical Sciences, Mathematical Logic and Set Theory, Combinatorics, Linear Algebra or Matrix Theory, Numerical Methods for Linear Algebra, Numerical Analysis or Numerical Methods, Intro. to Mathematical Analysis, Differential Equations, Digital Logic Design, Programming Fundamentals, Advanced Programming, Data Structures and Algorithms, Algorithm Design and Analysis, Nonlinear Programming, AI Fundamentals, Simulation and Modeling, Senior Project in Computer Science, Theory of Computation, Computer Systems Fundamentals, Computer Organization and Architecture, Database Systems, Advanced Topics in Computer Science (ATCS), Networking and Data Communication, Numerical Computing, Compiler Design.
        `;

        aiAskButton.addEventListener('click', async () => {
            const question = aiQuestionInput.value.trim();
            if (!question) {
                aiAnswerText.textContent = "Please ask a question.";
                aiAnswerContainer.classList.remove('hidden');
                return;
            }

            aiAnswerContainer.classList.remove('hidden');
            aiAnswerText.textContent = '';
            aiAnswerLoader.style.display = 'flex';
            aiAskButton.disabled = true;

            const prompt = `You are Mohammad Zafari, a recent Computer Science graduate. Your personality is professional, friendly, and confident. Answer the following question from a website visitor based ONLY on the information provided in the context below. Do not make up any information. If the answer is not in the context, politely say that the information is not available in your resume but you'd be happy to discuss it further.

Visitor's Question: "${question}"

--- MY CV CONTEXT ---
${cvContext}
--- END CV CONTEXT ---

Your Answer:`;

            try {
                const payload = { contents: [{ parts: [{ text: prompt }] }] };
                const response = await fetch(API_URL_FLASH, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`API Error: ${response.statusText}`);

                const result = await response.json();
                const answer = result.candidates[0].content.parts[0].text;

                aiAnswerLoader.style.display = 'none';
                aiAnswerText.textContent = answer;

            } catch (error) {
                console.error("Gemini API Error:", error);
                aiAnswerLoader.style.display = 'none';
                aiAnswerText.textContent = "Sorry, I am unable to answer at this moment. Please try again later.";
            } finally {
                aiAskButton.disabled = false;
            }
        });

        // This is a single-line comment
        
        // I've also changed the "Say Hello" button text to "Contact Me" for a more professional tone.
        const contactButton = document.querySelector('footer a[href^="mailto:"]');
        if (contactButton) {
            contactButton.textContent = 'Contact Me';
        }

    </script>

</body>
</html>
